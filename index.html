<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Crystal Docs 1.11.2">
<meta name="crystal_docs.project_version" content="main">
<meta name="crystal_docs.project_name" content="wgsim">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="wgsim">
  <title>wgsim main</title>
  <script type="text/javascript">
  CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill="currentColor" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<input type="checkbox" id="sidebar-btn">
<label for="sidebar-btn" id="sidebar-btn-label">
  <svg class="open" xmlns="http://www.w3.org/2000/svg" height="2em" width="2em" viewBox="0 0 512 512"><title>Open Sidebar</title><path fill="currentColor" d="M80 96v64h352V96H80zm0 112v64h352v-64H80zm0 112v64h352v-64H80z"></path></svg>
  <svg class="close" xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 512 512"><title>Close Sidebar</title><path fill="currentColor" d="m118.6 73.4-45.2 45.2L210.7 256 73.4 393.4l45.2 45.2L256 301.3l137.4 137.3 45.2-45.2L301.3 256l137.3-137.4-45.2-45.2L256 210.7Z"></path></svg>
</label>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          wgsim
        </a>
      </h1>

      <span class="project-version">
        main
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="wgsim/OptionParser" data-name="optionparser">
      <a href="OptionParser.html">OptionParser</a>
      
    </li>
  
  <li class="parent " data-id="wgsim/Wgsim" data-name="wgsim">
      <a href="Wgsim.html">Wgsim</a>
      
        <ul>
  
  <li class=" " data-id="wgsim/Wgsim/Application" data-name="wgsim::application">
      <a href="Wgsim/Application.html">Application</a>
      
    </li>
  
  <li class="parent " data-id="wgsim/Wgsim/Mutate" data-name="wgsim::mutate">
      <a href="Wgsim/Mutate.html">Mutate</a>
      
        <ul>
  
  <li class=" " data-id="wgsim/Wgsim/Mutate/Action" data-name="wgsim::mutate::action">
      <a href="Wgsim/Mutate/Action.html">Action</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/Mutate/Option" data-name="wgsim::mutate::option">
      <a href="Wgsim/Mutate/Option.html">Option</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/Mutate/Simulator" data-name="wgsim::mutate::simulator">
      <a href="Wgsim/Mutate/Simulator.html">Simulator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/MutType" data-name="wgsim::muttype">
      <a href="Wgsim/MutType.html">MutType</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/Parser" data-name="wgsim::parser">
      <a href="Wgsim/Parser.html">Parser</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/ReadFasta" data-name="wgsim::readfasta">
      <a href="Wgsim/ReadFasta.html">ReadFasta</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/RefBase" data-name="wgsim::refbase">
      <a href="Wgsim/RefBase.html">RefBase</a>
      
    </li>
  
  <li class="parent " data-id="wgsim/Wgsim/Sequence" data-name="wgsim::sequence">
      <a href="Wgsim/Sequence.html">Sequence</a>
      
        <ul>
  
  <li class=" " data-id="wgsim/Wgsim/Sequence/Action" data-name="wgsim::sequence::action">
      <a href="Wgsim/Sequence/Action.html">Action</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/Sequence/Option" data-name="wgsim::sequence::option">
      <a href="Wgsim/Sequence/Option.html">Option</a>
      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/Sequence/Simulator" data-name="wgsim::sequence::simulator">
      <a href="Wgsim/Sequence/Simulator.html">Simulator</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="wgsim/Wgsim/Utils" data-name="wgsim::utils">
      <a href="Wgsim/Utils.html">Utils</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1><a id="wgsim.cr" class="anchor" href="#wgsim.cr">  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>wgsim.cr</h1>
<p><a href="https://github.com/kojix2/wgsim.cr/actions/workflows/build.yml"><img src="https://github.com/kojix2/wgsim.cr/actions/workflows/build.yml/badge.svg" alt="build" /></a></p>
<p>Trying to re-implement and add functionality to <a href="https://github.com/lh3/wgsim">wgsim</a> in Crystal.</p>
<p>:black_cat: Please note that this project has been created for personal learning and experimental purposes and is not intended for practical use.</p>
<h2><a id="installation" class="anchor" href="#installation">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Installation</h2>
<p><a href="https://github.com/kojix2/wgsim.cr/releases/latest">GitHub Releases</a></p>
<p>From source:</p>
<pre><code class="language-sh">git clone https://github.com/kojix2/wgsim.cr
cd wgsim.cr
shards build --release -Dpreview_mt src/wgsim.cr</code></pre>
<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>
<pre><code class="language-crystal">  Program: wgsim (Crystal implementation of wgsim)
  Version: 0.0.1.alpha
    mut          mutate the reference
    seq          generate the reads
    version      show version number</code></pre>
<pre><code class="language-crystal">  Usage: wgsim mut [options] &lt;in.ref.fa&gt;

    -r FLOAT     rate of mutations [0.001]
    -R FLOAT     fraction of indels [0.15]
    -X FLOAT     probability an indel is extended [0.3]
    -S UINT64    seed for random generator
    -t INT       Number of threads [4]
    --help       show this help message</code></pre>
<pre><code class="language-crystal">  Usage: wgsim seq [options] &lt;in.ref.fa&gt; &lt;out.read1.fq&gt; &lt;out.read2.fq&gt;

    -e FLOAT     base error rate [0.02]
    -d INT       outer distance between the two ends [500]
    -s INT       standard deviation [50]
    -D FLOAT     average sequencing depth [10.0]
    -1 INT       length of the first read [70]
    -2 INT       length of the second read [70]
    -A FLOAT     Discard reads over FLOAT% ambiguous bases [0.05]
    -S UINT64    seed for random generator
    -t INT       Number of threads [4]
    --help       show this help message</code></pre>
<h2><a id="note" class="anchor" href="#note">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>NOTE</h2>
<ul>
<li>The tool provides two simulation classes: <code>MutationSimulator</code> and <code>SequenceSimulator</code>. (You may also want to add a <code>SelectionSimulator</code>.)</li>
<li>The key point is to include the complete DNA sequence of the cell's genome in the Fasta file. In the case of diploid cells, two Fasta records should be added for each pair of homologous chromosomes. When there is an increase in chromosome copy number due to extrachromosomal DNA, additional records must be included in the Fasta file to reflect this amplification. If a chromosome undergoes inversion or fusion, the Fasta file should contain a record that accurately represents these changes. This means that the genome should not be represented in any compressed form on the computer. Consequently, there will be as many <code>UInt8</code> or <code>RefBase</code> structures as there are nucleotides. While this approach may reduce processing speed and increase disk and memory usage, it helps to avoid many complications.</li>
<li><a href="https://qiita.com/kojix2/items/35318fbefe0e2ea9fca1">wgsimのコードを眺める [JA]</a></li>
</ul>
<h2><a id="contributing" class="anchor" href="#contributing">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributing</h2>
<ol>
<li>Fork it (<a href="https://github.com/kojix2/wgsim/fork">https://github.com/kojix2/wgsim/fork</a>)</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>
</div>
</body>
</html>
